<app-navmenu></app-navmenu>


<div class="title" style="font-size: 1.5vw;">RÉPONSE</div>

<div class="example-container mat-elevation-z8">


    <table mat-table [dataSource]="dataSource" matSort (matSortChange)=" announceSortChange($event)"
        class="table table-striped w-auto">
        <!-- Position Column -->
        <ng-container matColumnDef="id">
            <th style="width: 10%;" mat-header-cell *matHeaderCellDef mat-sort-header
                sortActionDescription="Sort by id"> id </th>
            <td mat-cell *matCellDef="let element"> {{ element.id }}
            </td>
        </ng-container>

        Name Column
        <ng-container matColumnDef="name">
            <th style="width: 7%;" mat-header-cell *matHeaderCellDef mat-sort-header
                sortActionDescription="Sort by name">
                Titre
            </th>
            <td mat-cell *matCellDef="let element">{{element.name}} </td>
        </ng-container>

        Questionnaire
        <ng-container matColumnDef="Questionnaire">
            <th style="width: 15%;" mat-header-cell *matHeaderCellDef mat-sort-header
                sortActionDescription="Sort by Questionnaire">
                Questionnaire
            </th>
            <td mat-cell *matCellDef="let element">{{element.questionnaire.title}} </td>
        </ng-container>

        <ng-container matColumnDef="ordering">
            <th style="width: 10%;" mat-header-cell *matHeaderCellDef mat-sort-header
                sortActionDescription="Sort by ordering">
                Ordre
            </th>
            <tr>
                <td mat-cell *matCellDef="let element ">{{element.ordering}} </td>
            </tr>
        </ng-container>
        <ng-container matColumnDef="is_published">
            <th style="width: 10%;" mat-header-cell *matHeaderCellDef mat-sort-header
                sortActionDescription="Sort by is_published">
                Est publié
            </th>
            <tr>
                <ng-container *matCellDef="let element">
                    <td mat-cell *ngIf="(element.is_published ===true );">
                        <mat-icon style="color: green;">done_outline</mat-icon>
                    </td>
                    <td mat-cell *ngIf="(element.is_published ===false ); ">
                        <mat-icon style="color: red;">not_interested</mat-icon>
                    </td>
                </ng-container>
            </tr>
        </ng-container>


        <!-- Action Column-->
        <ng-container matColumnDef="action">
            <tr>
                <th mat-header-cell *matHeaderCellDef> Action </th>
            </tr>
            <tr>
                <td mat-cell *matCellDef="let row" style="width:20%">
                    <a href="admin/answers/Detailanswer"><button mat-icon-button color="primary"
                            title="Afficher les details">
                            <mat-icon>preview</mat-icon>
                        </button></a>
                    <a href="admin/answers/Editanswer"> <button mat-icon-button color="primary" title="Modifier">
                            <mat-icon style="color: darkgoldenrod;">edit</mat-icon>
                        </button></a>
                    <button mat-icon-button color="primary" title="supprimer" (click)="ConfirmationNotification()">
                        <mat-icon style="color: brown;">delete</mat-icon>
                    </button>


                </td>
            <tr>
        </ng-container>


        <tr mat-header-row *matHeaderRowDef="displayedColumns sticky: true  "></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;" (click)="AnswerToManage(row) "></tr>


    </table>

</div>
<ng-container *ngIf="loading$ | async">
    <div class="spinner_overlay"></div>

    <mat-progress-spinner [color]="'#70caca'" [mode]="'indeterminate'"></mat-progress-spinner>  
  </ng-container>
<div class="d-grid gap-2  justify-content-md-around mt-4">
    <a href="admin/answers/addanswers"><button mat-flat-button color="primary">
            <mat-icon>add_box</mat-icon>&emsp;Ajouter une nouvelle réponse
        </button></a>
</div>
<app-footer></app-footer>